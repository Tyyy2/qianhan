import{c as Q,a as R}from"./render.89046994.js";import{h as H,o as L}from"./dom.0c26cce4.js";import{g as $}from"./scroll.079680cf.js";import{r as d,w as C,o as q,a as U,h as x,l as A,s as b,t as D,u as F,v as O,z as f,x as T,y as V,F as W,C as j,S as M,U as G}from"./index.293a2ab7.js";import{Q as J}from"./QPage.830a87bc.js";import{_ as K}from"./testBackground.9268c295.js";var X="/assets/product1.866d03a1.png",Y="/assets/product2.a6d479d1.png",Z="/assets/product3.4c7d1777.png",ee="/assets/product4.0dd32e77.png";function z(e){let n=!1,i,s;function r(){s=arguments,n!==!0&&(n=!0,i=requestAnimationFrame(()=>{e.apply(this,s),s=void 0,n=!1}))}return r.cancel=()=>{window.cancelAnimationFrame(i),n=!1},r}const{passive:y}=A;var te=Q({name:"QParallax",props:{src:String,height:{type:Number,default:500},speed:{type:Number,default:1,validator:e=>e>=0&&e<=1},scrollTarget:{default:void 0},onScroll:Function},setup(e,{slots:n,emit:i}){const s=d(0),r=d(null),l=d(null),u=d(null);let t,a,B,p,m,c;C(()=>e.height,()=>{t===!0&&g()}),C(()=>e.scrollTarget,()=>{t===!0&&(k(),S())});let _=o=>{s.value=o,e.onScroll!==void 0&&i("scroll",o)};function g(){let o,v,w;c===window?(o=0,w=v=window.innerHeight):(o=L(c).top,v=H(c),w=o+v);const I=L(r.value).top,N=I+e.height;if(m!==void 0||N>o&&I<w){const E=(w-I)/(e.height+v);h((B-e.height)*E*e.speed),_(E)}}let h=o=>{a.style.transform=`translate3d(-50%,${Math.round(o)}px,0)`};function P(){B=a.naturalHeight||a.videoHeight||H(a),t===!0&&g()}function S(){t=!0,c=$(r.value,e.scrollTarget),c.addEventListener("scroll",g,y),window.addEventListener("resize",p,y),g()}function k(){t===!0&&(t=!1,c.removeEventListener("scroll",g,y),window.removeEventListener("resize",p,y),c=void 0,h.cancel(),_.cancel(),p.cancel())}return q(()=>{h=z(h),_=z(_),p=z(P),a=n.media!==void 0?l.value.children[0]:u.value,a.onload=a.onloadstart=a.loadedmetadata=P,P(),a.style.display="initial",window.IntersectionObserver!==void 0?(m=new IntersectionObserver(o=>{(o[0].isIntersecting===!0?S:k)()}),m.observe(r.value)):S()}),U(()=>{k(),m!==void 0&&m.disconnect(),a.onload=a.onloadstart=a.loadedmetadata=null}),()=>x("div",{ref:r,class:"q-parallax",style:{height:`${e.height}px`}},[x("div",{ref:l,class:"q-parallax__media absolute-full"},n.media!==void 0?n.media():[x("img",{ref:u,src:e.src})]),x("div",{class:"q-parallax__content absolute-full column flex-center"},n.content!==void 0?n.content({percentScrolled:s.value}):R(n.default))])}});const ae=f("div",{class:"text-h3 text-white text-weight-bold"}," This is Quianhan Design ",-1),ne={class:"product-container row",style:{border:"1px solid black"}},oe=["onMouseover"],se=["src","alt"],re={key:0,class:"product-info"},ge={__name:"IndexPage",setup(e){const n=d([{id:1,name:"\u7522\u54C11",image:"product1",description:"\u63CF\u8FF01"},{id:2,name:"\u7522\u54C12",image:"product2",description:"\u63CF\u8FF02"},{id:3,name:"\u7522\u54C13",image:"product3",description:"\u63CF\u8FF03"},{id:4,name:"\u7522\u54C14",image:"product4",description:"\u63CF\u8FF04"}]),i=d(null),s=l=>{i.value=l},r=l=>new URL({"/src/assets/img/product1.png":X,"/src/assets/img/product2.png":Y,"/src/assets/img/product3.png":Z,"/src/assets/img/product4.png":ee}[`/src/assets/img/${l}.png`],self.location).href;return(l,u)=>(b(),D(J,{style:{height:"200vh"}},{default:F(()=>[O(te,{src:K,style:{height:"500px"}},{default:F(()=>[ae]),_:1}),f("div",ne,[(b(!0),T(W,null,V(n.value,t=>(b(),T("div",{class:j(["product","product-"+t.id]),key:t.id,onMouseover:a=>s(t.id),onMouseleave:u[0]||(u[0]=a=>s(null))},[f("img",{src:r(t.image),alt:t.name},null,8,se),i.value===t.id?(b(),T("div",re,[f("h3",null,M(t.name),1),f("p",null,M(t.description),1)])):G("",!0)],42,oe))),128))])]),_:1}))}};export{ge as default};
